@startuml Deployment
!theme plain

title Spotify Bot Provider - Deployment Architecture

node "Fly.io / Docker Swarm" {
    node "API Container" {
        component [Spring Boot API] as api
    }
    
    node "Worker Pool (×100)" {
        component [Chrome Bot Workers] as workers
    }
    
    node "Cache" {
        database [Redis] as redis
    }
}

cloud "External Services" {
    node "Supabase" {
        database [PostgreSQL] as db
    }
    
    node "BrightData" {
        component [Residential Proxies\n10k+ IPs] as proxies
    }
}

cloud "Spotify" {
    component [Spotify Web Player] as spotify
}

actor "SMM Panels" as panels

panels --> api : HTTPS
api --> workers : Task Queue
api --> db : R2DBC
api --> redis : Session Cache
workers --> proxies : SOCKS5
workers --> spotify : Chrome/Selenium

note right of workers
  **Scaling:**
  100 workers × 10 parallel sessions
  = 1000 concurrent Chrome instances
  = ~1M plays/day capacity
end note

@enduml
